(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Video"],{"42ef":function(e,t,n){e.exports=n.p+"media/happy3.9b134e41.mp4"},"5a4e":function(e,t,n){},"81a8":function(e,t,n){"use strict";n.r(t);var r=n("7a23"),a=Object(r["F"])("data-v-4761589d");Object(r["u"])("data-v-4761589d");var o={id:"Video"},i={class:"button"},c=Object(r["g"])("Mood"),u={class:"board"},d={class:"animate"};Object(r["s"])();var s=a((function(e,t,n,s,p,l){var m=Object(r["y"])("router-link");return Object(r["r"])(),Object(r["d"])("div",o,[Object(r["h"])("video",{id:"webcam",ref:"videoEl",autoplay:"true",playsinline:"",onLoadedmetadata:t[1]||(t[1]=function(){return s.runModel&&s.runModel.apply(s,arguments)})},null,544),Object(r["h"])("div",i,[Object(r["h"])(m,{to:"/Mood"},{default:a((function(){return[c]})),_:1})]),Object(r["h"])("li",u,[(Object(r["r"])(!0),Object(r["d"])(r["a"],null,Object(r["x"])(s.board,(function(e,t){return Object(r["r"])(),Object(r["d"])("ul",{key:t},Object(r["A"])(t)+" ï¼š "+Object(r["A"])(e),1)})),128))]),Object(r["h"])("div",d,[Object(r["h"])("video",{src:s.chosenemoji.emoji,autoplay:"",loop:""},null,8,["src"])])])})),p=n("1da1"),l=(n("96cf"),n("ab39")),m={name:"Video",data:function(){return{}},setup:function(){var e=Object(r["v"])({modelUri:"/models",option:new l["a"]({minConfidence:.5})}),t=Object(r["v"])({video:{width:{min:320,ideal:1280,max:1920},height:{min:240,ideal:720,max:1080},frameRate:{min:15,ideal:30,max:60},facingMode:"environment"}}),a=Object(r["w"])(null),o=Object(r["w"])(null),i=Object(r["v"])({mood:""}),c=Object(r["v"])({happy:[n("dbe8"),n("a69c"),n("42ef")],surprised:[n("4979"),n("b60c"),n("e2e6")],angry:[n("0a41"),n("9f91"),n("81e9")],neutral:[n("b71b"),n("b2eb")]}),u=Object(r["v"])({emoji:""}),d=function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l["b"](a.value,e.option).withFaceExpressions();case 2:n=t.sent,n&&(i.mood=m(n[0]),u.emoji=s(i.mood)),setTimeout((function(){return d()}),3e3);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s=function(e){var t,n;return"neutral"!==e&&""!==e||(t=c.neutral,n=Math.floor(Math.random()*t.length),u.emoji=t[n]),"happy"!==e&&"disgusted"!==e||(t=c.happy,n=Math.floor(Math.random()*t.length),u.emoji=t[n]),"surprised"!==e&&"fearful"!==e||(t=c.surprised,n=Math.floor(Math.random()*t.length),u.emoji=t[n]),"angry"!==e&&"sad"!==e||(t=c.angry,n=Math.floor(Math.random()*t.length),u.emoji=t[n]),u.emoji},m=function(e){var t="neutral",n=0,r=t;if(!e)return r;for(var a in e=e.expressions,e)e[a]>n&&(n=e[a],t=a);return t};return Object(r["p"])((function(){var n=function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l["c"].ssdMobilenetv1.loadFromUri(e.modelUri);case 2:return t.next=4,l["c"].ageGenderNet.loadFromUri(e.modelUri);case 4:return t.next=6,l["c"].faceExpressionNet.loadFromUri(e.modelUri);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),r=function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.getUserMedia(t);case 3:n=e.sent,a.value.srcObject=n,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();n(),r()})),{videoEl:a,canvasEl:o,runModel:d,board:i,chosenemoji:u}},methods:{}};n("f4fe");m.render=s,m.__scopeId="data-v-4761589d";t["default"]=m},"81e9":function(e,t,n){e.exports=n.p+"media/angry3.bf183b38.mp4"},"9f91":function(e,t,n){e.exports=n.p+"media/angry2.a484fce2.mp4"},a69c:function(e,t,n){e.exports=n.p+"media/happy2.f1bd217b.mp4"},b2eb:function(e,t,n){e.exports=n.p+"media/neutral2.eae6d9c7.mp4"},b60c:function(e,t,n){e.exports=n.p+"media/wow2.5367ea53.mp4"},e2e6:function(e,t,n){e.exports=n.p+"media/wow3.cf56ca40.mp4"},f4fe:function(e,t,n){"use strict";n("5a4e")}}]);
//# sourceMappingURL=Video.b30219b3.js.map